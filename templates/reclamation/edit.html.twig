{% extends 'base.html.twig' %}

{% block title %}Modifier Réclamation{% endblock %}

{% block body %}
    <h1>✏️ Modifier Réclamation</h1>

    {{ include('reclamation/_form.html.twig', {'button_label': 'Mettre à jour'}) }}

    <a href="{{ path('app_reclamation_index') }}">↩️ Retour à la liste</a>

    {{ include('reclamation/_delete_form.html.twig') }}
{% endblock %}

{% block javascripts %}
<script>
document.addEventListener('DOMContentLoaded', function () {
    const form = document.querySelector('form');
    form.addEventListener('submit', function (e) {
        const titre = document.querySelector('[name="reclamation[titre]"]');
        const description = document.querySelector('[name="reclamation[description]"]');
        const errors = [];

        if (titre.value.trim().length < 5) {
            errors.push("Le titre doit contenir au moins 5 caractères.");
        }

        if (description.value.trim().length < 10) {
            errors.push("La description doit contenir au moins 10 caractères.");
        }

        if (errors.length > 0) {
            e.preventDefault();
            alert(errors.join("\n"));
        }
    });
});
</script>
{% endblock %}
