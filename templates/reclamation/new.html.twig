{% extends 'base.html.twig' %}

{% block title %}Ajouter une R√©clamation{% endblock %}

{% block body %}
    <h1>üì• Nouvelle R√©clamation</h1>

    {{ include('reclamation/_form.html.twig', {'button_label': 'üíæ Enregistrer'}) }}

    <a href="{{ path('app_reclamation_index') }}">‚Ü©Ô∏è Retour √† la liste</a>
{% endblock %}

{% block javascripts %}
<script>
document.addEventListener('DOMContentLoaded', function () {
    const form = document.querySelector('form');
    form.addEventListener('submit', function (e) {
        const titre = document.querySelector('[name="reclamation[titre]"]');
        const description = document.querySelector('[name="reclamation[description]"]');
        const errors = [];

        if (titre.value.trim().length < 5) {
            errors.push("Le titre doit contenir au moins 5 caract√®res.");
        }

        if (description.value.trim().length < 10) {
            errors.push("La description doit contenir au moins 10 caract√®res.");
        }

        if (errors.length > 0) {
            e.preventDefault();
            alert(errors.join("\n"));
        }
    });
});
</script>
{% endblock %}
